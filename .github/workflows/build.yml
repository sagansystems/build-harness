name: "Build Image (Dockerhub)"

on:
  pull_request:
    branches:
      - master
  push:
    branches:
      - master
  workflow_call: {}

jobs:
  build-dockerhub-image:
    name: build-harness
    uses: sagansystems/gladly-github-actions/.github/workflows/build-dockerhub-image.yaml@v1
    with:
      dockerhub-repository: build-harness
      push: ${{ github.event_name != 'pull_request' }}
    secrets:
      inherit
